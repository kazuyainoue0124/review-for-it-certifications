# 「シカクチコミ」 - IT資格のクチコミアプリ -
## 概要
IT資格の取得に悩む同僚が多いと感じたため、個人開発のテーマとして選定。<br>
具体的には以下の課題や悩みの解決を目指しています。
-  収入アップにつながる資格を知りたい
- 自分のキャリアにとってどの資格を取るのが良いかわからない、、、
- そもそもこの資格って取る価値あるのかなぁ……？

アプリ本体：[https://shikakuchikomi.net/](https://shikakuchikomi.net/)
<br>
## 使用技術一覧
### フロントエンド
- HTML/CSS
- JavaScript
- jQuery

### バックエンド
- Ruby(3.1.2)
- Ruby on Rails(6.1.6)
- MySQL(8.0)

### インフラ
- AWS(VPC/RDS/ALB/ACM/Route53/Fargate/ECR/ECS)
- Terraform([別リポジトリ](https://github.com/kazuyainoue0124/infrastructure-for-portfolio)に記載)

### テスト
- RSpec

### コード解析
- Rubocop

### CI/CD
- Circle CI

### バージョン管理
- Git/GitHub

### 開発環境
- VScode
- Docker
<br>

## 機能一覧
- ユーザー新規登録/ログイン
- プロフィール編集
- 新規投稿/投稿編集
- 投稿一覧
- 投稿詳細
- いいね！
- ブックマーク
- フォロー/フォロー解除
- フォロー一覧/フォロワー一覧
- 投稿検索/ユーザー検索
- 最も役に立った資格ランキング/フォロワー数ランキング
<br>

## ER図
![ER図-Portfolio(ER図) drawio](https://user-images.githubusercontent.com/88877589/195987620-9f1c2738-cd92-47c5-afab-30c0f5b92f00.png)
<br>

## インフラ構成図
![インフラ構成図 drawio](https://user-images.githubusercontent.com/88877589/195987934-9c197905-7b34-48ea-969b-5475fe853197.png)
<br>

## 画面設計書(構想時点で簡易的に作成したため、実際のアプリとは一致していません)
![IT資格の口コミアプリ](https://user-images.githubusercontent.com/88877589/196896544-e78124f8-8420-4e70-89cb-9ed9e8bacc9b.png)
<br>

## 個人開発の目標
- 一人でアプリケーションを作りきる
- 現職では扱えないモダンな技術のキャッチアップ
- チーム開発を意識してできるかぎり実践的に取り組む

## 課題
### ①Herokuの有料化に伴い他のデプロイ先が必要
- 当初はRailsチュートリアルで紹介されていたHerokuをデプロイ先として利用していたが、Herokuが有料になってしまうことが判明。他のデプロイ先を選定しなくてはいけなくなった。

### ②個人開発のため実務を意識しづらい
- 一人で開発をしているため実務で行うチーム開発とはどうしても性質が異なってしまう。実践力を磨きたいが限度があった。

### ③開発効率が悪い
- いきなりコードを書こうとしても、全体像を把握できていないためどこから制作していいか分からず、開発の効率が著しく低かった。

## 取り組み
### ①Herokuの有料化に伴い他のデプロイ先が必要
- 代替案としてAWSを選択。EC2なら1年間無料で利用できるというのが選定理由だったが、学習を進めるうちにクラウドへの好奇心が高まっていったため、結果的に課金して利用。
- 「ローカル環境からEC2にログインして手動でデプロイ→ローカル環境からCapistranoを使ってEC2へデプロイ→Circle CIからCapistranoを使ってEC2へデプロイ→Circle CIからECS(Fargate起動タイプ)へデプロイ」とスモールステップで少しずつ難易度を上げていった。
- ECSへのデプロイ時に独学の限界を感じたため、AWSのビジネスサポートプラン(月$100)に加入。専任のクラウドエンジニアにフォローいただく。
- ALBで負荷分散・Route53とACMを使って独自ドメイン導入・データベースはRDS、などを実現。

### ②個人開発のため実務を意識しづらい
- 「GitHubでissueを作成→対応するブランチを作成→コードの追加・改修→作業ブランチのコードをプッシュ→GitHub上でプルリクエストを発行→プルリクエストの内容を確認→masterブランチへマージ」という作業フローを徹底し、疑似的かつ簡易的なチーム開発を想定。
- RSpecを利用したテストコードもできる範囲で記述。特に仕様があらかじめ明確だったモデルスペックに関しては、先にテストコードを書いてから実装するテスト駆動開発の流れで作業を実施。
- Circle CIを用いて作業ブランチへのプッシュ時の自動テスト(RSpecとRubocop)、masterブランチへのマージ時の自動デプロイを実現。品質担保と工数削減につなげる。

### ③開発効率が悪い
- 作業をいったんストップしER図と画面設計書を作成。ER図はdraw.ioを、画面設計書はFigmaを利用。簡易的ではあったが最初に大まかな設計を行うことでその後の作業効率が大幅にアップできた。


## 学習方法
各技術の学習方法をまとめます。

### フロントエンド
- 特になし（業務経験をそのまま応用）

### バックエンド
- プロゲートとドットインストールを1周ずつ。その後Railsチュートリアルを2周。1周目は内容そのまま、2周目はminitestではなくRSpecを導入するなど内容をアレンジしながら実施。以降はRailsガイドやQiita記事を参考にポートフォリオ作成を実施。

### インフラ
- AWSは大澤文孝さんの著書2冊を用いてハンズオン学習。その内容をもとにEC2へのデプロイを実施。Fargateを用いてECSへデプロイする際はAWSのビジネスサポートプラン(月$100)に加入しお手伝いいただく。
- Terraformは公式ドキュメントのみ。既存の環境をインポート後、tfstateファイルとの差分がなくなるようtfファイルへ記述。

### テスト
- 『Everyday Rails - RSpecによるRailsテスト入門』を購入して学習。上記本の翻訳者Junichi ItoさんのYouTubeチャンネルや発表資料も参考にポートフォリオへ導入。

### バージョン管理
- 概要は業務を通じて把握済み。実務を想定し、「issueの作成→対応する作業ブランチの作成→作業ブランチのコードをpush→GitHub上でプルリクの作成→masterブランチへマージ」という「擬似チーム開発」的な作業フローでの利用を徹底。

### 開発環境
- Docker/docker-composeはUdemyの『米国AI開発者がゼロから教えるDocker講座』にて概要を学習後、公式ドキュメントやQiitaの記事を参考に環境構築。エラーログ対応のため開発環境と本番環境で異なるファイルを作成。


### CI/CD
- 上記のUdemy講座内でTravis CIを題材としたCI/CDを経験。その内容をCircle CIに置き換えてポートフォリオに導入。自動デプロイ先を「heroku→EC2→CapistranoでEC2→ECS」と段階的に変更しながら学習。
